{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/huirenchuah/Desktop/travelblog/frontend/pages/user/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Private from \"../../components/auth/Private\";\nimport Layout from \"../../components/Layout\";\nimport Link from \"next/link\";\nimport ReadBlogs from \"../../components/crud/ReadBlogs\";\nimport { isAuth, getCookie } from \"../../actions/auth\";\nimport { API } from \"../../config\";\nimport { useState, useEffect } from \"react\";\nimport { getProfile } from \"../../actions/user\";\nimport ReactImageFallback from \"react-image-fallback\";\nimport { Button } from \"@material-ui/core\";\n\nconst UserIndex = () => {\n  const {\n    0: values,\n    1: setValues\n  } = useState({\n    photo: \"\",\n    about: \"\",\n    error: false\n  });\n  const {\n    photo,\n    about\n  } = values;\n  const token = getCookie(\"token\");\n  const username = isAuth() && isAuth().username;\n\n  const init = () => {\n    getProfile(token).then(data => {\n      if (data.error) {\n        setValues(_objectSpread({}, values, {\n          error: data.error\n        }));\n      } else {\n        setValues(_objectSpread({}, values, {\n          photo: data.username,\n          about: data.about\n        }));\n      }\n    });\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n  return __jsx(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, __jsx(Private, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"container-fluid\",\n    id: \"dashboard-hero\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"container pt-5\",\n    style: {},\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"container-fluid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"container-fluid\",\n    style: {\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, __jsx(ReactImageFallback, {\n    src: `${API}/user/photo/${photo}`,\n    className: \"img img-fluid rounded-circle mb-3\",\n    fallbackImage: \"/static/default.svg\",\n    style: {\n      height: \"30vh\",\n      width: \"300px\",\n      marginTop: \"-13vh\"\n    },\n    alt: \"user profile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"container mb-3 mt-3 pb-3 pt-3\",\n    style: {\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, __jsx(\"h2\", {\n    className: \"text-bold\",\n    style: {\n      fontSize: \"3rem\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, `${username}`, \" \"), __jsx(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), __jsx(\"p\", {\n    className: \"text-muted\",\n    style: {\n      fontSize: \"0.9rem\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \" \", about)), __jsx(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }), __jsx(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    className: \"ml-2 mr-2 mt-2 mb-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    href: \"/user/crud/blog\",\n    style: {\n      color: \"white\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"Create Blog\")), __jsx(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    className: \"ml-2 mr-2 mt-2 mb-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    href: \"/user/update\",\n    style: {\n      color: \"white\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, \" \", \"Update Profile\")), __jsx(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  })))), __jsx(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"container mt-4\",\n    style: {\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \" \", __jsx(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \"Your Blogs\")), __jsx(ReadBlogs, {\n    username: username,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }))))));\n};\n\nexport default UserIndex;","map":{"version":3,"sources":["/Users/huirenchuah/Desktop/travelblog/frontend/pages/user/index.js"],"names":["Private","Layout","Link","ReadBlogs","isAuth","getCookie","API","useState","useEffect","getProfile","ReactImageFallback","Button","UserIndex","values","setValues","photo","about","error","token","username","init","then","data","textAlign","height","width","marginTop","fontSize","color"],"mappings":"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","sourcesContent":["import Private from \"../../components/auth/Private\";\nimport Layout from \"../../components/Layout\";\nimport Link from \"next/link\";\nimport ReadBlogs from \"../../components/crud/ReadBlogs\";\nimport { isAuth, getCookie } from \"../../actions/auth\";\nimport { API } from \"../../config\";\nimport { useState, useEffect } from \"react\";\nimport { getProfile } from \"../../actions/user\";\nimport ReactImageFallback from \"react-image-fallback\";\nimport { Button } from \"@material-ui/core\";\n\nconst UserIndex = () => {\n  const [values, setValues] = useState({\n    photo: \"\",\n    about: \"\",\n    error: false\n  });\n  const { photo, about } = values;\n\n  const token = getCookie(\"token\");\n  const username = isAuth() && isAuth().username;\n\n  const init = () => {\n    getProfile(token).then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        setValues({\n          ...values,\n          photo: data.username,\n          about: data.about\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  return (\n    <React.Fragment>\n      <Layout>\n        <Private>\n          <div className=\"container-fluid\" id=\"dashboard-hero\">\n            <div className=\"container pt-5\" style={{}}>\n              {/* <h1 className=\"display-4 pt-5 font-weight-bold text-center\">\n                {`${username}`}'s Dashboard\n              </h1> */}\n            </div>\n          </div>\n          <div className=\"container-fluid\">\n            <div className=\"row\">\n              <div className=\"container-fluid\" style={{ textAlign: \"center\" }}>\n                <ReactImageFallback\n                  src={`${API}/user/photo/${photo}`}\n                  className=\"img img-fluid rounded-circle mb-3\"\n                  fallbackImage=\"/static/default.svg\"\n                  style={{\n                    height: \"30vh\",\n                    width: \"300px\",\n                    marginTop: \"-13vh\"\n                  }}\n                  alt=\"user profile\"\n                />\n                <div\n                  className=\"container mb-3 mt-3 pb-3 pt-3\"\n                  style={{ textAlign: \"center\" }}\n                >\n                  <h2 className=\"text-bold\" style={{ fontSize: \"3rem\" }}>\n                    {`${username}`}{\" \"}\n                  </h2>\n                  <br />\n                  <p className=\"text-muted\" style={{ fontSize: \"0.9rem\" }}>\n                    {\" \"}\n                    {about}\n                  </p>\n                </div>\n                <hr />\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  className=\"ml-2 mr-2 mt-2 mb-2\"\n                >\n                  <a href=\"/user/crud/blog\" style={{ color: \"white\" }}>\n                    Create Blog\n                  </a>\n                </Button>\n\n                {/* \n                <li className=\"list-group-item\">\n                  <Link href=\"/user/crud/blogs\">\n                    <a>My Blogs</a>\n                  </Link>\n                </li> */}\n\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  className=\"ml-2 mr-2 mt-2 mb-2\"\n                >\n                  <a href=\"/user/update\" style={{ color: \"white\" }}>\n                    {\" \"}\n                    Update Profile\n                  </a>\n                </Button>\n\n                <hr />\n              </div>\n            </div>\n          </div>\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"container mt-4\" style={{ textAlign: \"center\" }}>\n                {\" \"}\n                <h2>Your Blogs</h2>\n              </div>\n\n              {/* <div className=\"col-md-3\"> */}\n              <ReadBlogs username={username} />\n            </div>\n            {/* </div> */}\n          </div>\n        </Private>\n      </Layout>\n    </React.Fragment>\n  );\n};\n\nexport default UserIndex;\n"]},"metadata":{},"sourceType":"module"}