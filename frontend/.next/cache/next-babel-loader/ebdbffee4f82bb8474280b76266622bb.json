{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/huirenchuah/Desktop/travelblog/frontend/pages/user/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Private from \"../../components/auth/Private\";\nimport Layout from \"../../components/Layout\";\nimport Link from \"next/link\";\nimport ReadBlogs from \"../../components/crud/ReadBlogs\";\nimport { isAuth, getCookie } from \"../../actions/auth\";\nimport { API } from \"../../config\";\nimport { useState, useEffect } from \"react\";\nimport { getProfile } from \"../../actions/user\";\n\nvar UserIndex = function UserIndex() {\n  var _useState = useState({\n    photo: \"\",\n    error: false\n  }),\n      values = _useState[0],\n      setValues = _useState[1];\n\n  var photo = values.photo;\n  var token = getCookie(\"token\");\n  var username = isAuth() && isAuth().username;\n\n  var init = function init() {\n    getProfile(token).then(function (data) {\n      if (data.error) {\n        setValues(_objectSpread({}, values, {\n          error: data.error\n        }));\n      } else {\n        setValues(_objectSpread({}, values, {\n          photo: data.username\n        }));\n      }\n    });\n  };\n\n  useEffect(function () {\n    init();\n  }, []);\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, __jsx(Private, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"container-fluid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"col-md-12 pt-5 pb-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, __jsx(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Welcome back to \", \"\".concat(username), \"'s Dashboard\")), __jsx(\"div\", {\n    className: \"col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, __jsx(\"img\", {\n    src: \"\".concat(API, \"/user/photo/\").concat(photo),\n    className: \"img img-fluid img-thumbnail mb-3\",\n    style: {\n      maxHeight: \"auto\",\n      maxWidth: \"300px\"\n    },\n    alt: \"user profile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, __jsx(\"ul\", {\n    className: \"list-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, __jsx(\"li\", {\n    className: \"list-group-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    href: \"/user/crud/blog\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Create Blog\")), __jsx(\"li\", {\n    className: \"list-group-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    href: \"/user/update\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \" Update Profile\"))))), __jsx(ReadBlogs, {\n    username: username,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }))));\n};\n\nexport default UserIndex;","map":{"version":3,"sources":["/Users/huirenchuah/Desktop/travelblog/frontend/pages/user/index.js"],"names":["Private","Layout","Link","ReadBlogs","isAuth","getCookie","API","useState","useEffect","getProfile","UserIndex","photo","error","values","setValues","token","username","init","then","data","maxHeight","maxWidth"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,OAAP,MAAoB,+BAApB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,SAAP,MAAsB,iCAAtB;AACA,SAASC,MAAT,EAAiBC,SAAjB,QAAkC,oBAAlC;AACA,SAASC,GAAT,QAAoB,cAApB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,UAAT,QAA2B,oBAA3B;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AAAA,kBACMH,QAAQ,CAAC;AACnCI,IAAAA,KAAK,EAAE,EAD4B;AAEnCC,IAAAA,KAAK,EAAE;AAF4B,GAAD,CADd;AAAA,MACfC,MADe;AAAA,MACPC,SADO;;AAAA,MAKdH,KALc,GAKJE,MALI,CAKdF,KALc;AAOtB,MAAMI,KAAK,GAAGV,SAAS,CAAC,OAAD,CAAvB;AACA,MAAMW,QAAQ,GAAGZ,MAAM,MAAMA,MAAM,GAAGY,QAAtC;;AAEA,MAAMC,IAAI,GAAG,SAAPA,IAAO,GAAM;AACjBR,IAAAA,UAAU,CAACM,KAAD,CAAV,CAAkBG,IAAlB,CAAuB,UAAAC,IAAI,EAAI;AAC7B,UAAIA,IAAI,CAACP,KAAT,EAAgB;AACdE,QAAAA,SAAS,mBAAMD,MAAN;AAAcD,UAAAA,KAAK,EAAEO,IAAI,CAACP;AAA1B,WAAT;AACD,OAFD,MAEO;AACLE,QAAAA,SAAS,mBACJD,MADI;AAEPF,UAAAA,KAAK,EAAEQ,IAAI,CAACH;AAFL,WAAT;AAID;AACF,KATD;AAUD,GAXD;;AAaAR,EAAAA,SAAS,CAAC,YAAM;AACdS,IAAAA,IAAI;AACL,GAFQ,EAEN,EAFM,CAAT;AAIA,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAwBD,QAAxB,kBADF,CADF,EAIE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AACI,IAAA,GAAG,YAAKV,GAAL,yBAAuBK,KAAvB,CADP;AAEI,IAAA,SAAS,EAAC,kCAFd;AAGI,IAAA,KAAK,EAAE;AAAES,MAAAA,SAAS,EAAE,MAAb;AAAqBC,MAAAA,QAAQ,EAAE;AAA/B,KAHX;AAII,IAAA,GAAG,EAAC,cAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CAJF,EAYE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,IAAI,EAAC,iBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,CADJ,EAWI;AAAI,IAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,IAAI,EAAC,cAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,CAXJ,CADA,CAZF,CADF,EAgCE,MAAC,SAAD;AAAW,IAAA,QAAQ,EAAEL,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhCF,CADF,CADF,CADF;AAwCD,CAnED;;AAqEA,eAAeN,SAAf","sourcesContent":["import Private from \"../../components/auth/Private\";\nimport Layout from \"../../components/Layout\";\nimport Link from \"next/link\";\nimport ReadBlogs from \"../../components/crud/ReadBlogs\";\nimport { isAuth, getCookie } from \"../../actions/auth\";\nimport { API } from \"../../config\";\nimport { useState, useEffect } from \"react\";\nimport { getProfile } from \"../../actions/user\";\n\nconst UserIndex = () => {\n  const [values, setValues] = useState({\n    photo: \"\",\n    error: false\n  });\n  const { photo } = values;\n\n  const token = getCookie(\"token\");\n  const username = isAuth() && isAuth().username;\n\n  const init = () => {\n    getProfile(token).then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        setValues({\n          ...values,\n          photo: data.username\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  return (\n    <Layout>\n      <Private>\n        <div className=\"container-fluid\">\n          <div className=\"row\">\n            <div className=\"col-md-12 pt-5 pb-5\">\n              <h2>Welcome back to {`${username}`}'s Dashboard</h2>\n            </div>\n            <div className=\"col-md-6\">\n            <img\n                src={`${API}/user/photo/${photo}`}\n                className=\"img img-fluid img-thumbnail mb-3\"\n                style={{ maxHeight: \"auto\", maxWidth: \"300px\" }}\n                alt=\"user profile\"\n              />\n            </div>\n            <div className=\"col-md-6\">\n            <ul className=\"list-group\">\n                <li className=\"list-group-item\">\n                  <a href=\"/user/crud/blog\">Create Blog</a>\n                </li>\n{/* \n                <li className=\"list-group-item\">\n                  <Link href=\"/user/crud/blogs\">\n                    <a>My Blogs</a>\n                  </Link>\n                </li> */}\n\n                <li className=\"list-group-item\">\n                  <a href=\"/user/update\"> Update Profile</a>\n                </li>\n              </ul>\n            \n            </div>\n          </div>\n          <ReadBlogs username={username} />\n        </div>\n      </Private>\n    </Layout>\n  );\n};\n\nexport default UserIndex;\n"]},"metadata":{},"sourceType":"module"}