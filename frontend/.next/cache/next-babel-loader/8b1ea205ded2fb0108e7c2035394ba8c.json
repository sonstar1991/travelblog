{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/huirenchuah/Desktop/travelblog/frontend/pages/user/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Private from \"../../components/auth/Private\";\nimport Layout from \"../../components/Layout\";\nimport Link from \"next/link\";\nimport ReadBlogs from \"../../components/crud/ReadBlogs\";\nimport { isAuth, getCookie } from \"../../actions/auth\";\nimport { API } from \"../../config\";\nimport { useState, useEffect } from \"react\";\nimport { getProfile } from \"../../actions/user\";\nimport ReactImageFallback from \"react-image-fallback\";\n\nvar UserIndex = function UserIndex() {\n  var _useState = useState({\n    photo: \"\",\n    about: \"\",\n    error: false\n  }),\n      values = _useState[0],\n      setValues = _useState[1];\n\n  var photo = values.photo,\n      about = values.about;\n  var token = getCookie(\"token\");\n  var username = isAuth() && isAuth().username;\n\n  var init = function init() {\n    getProfile(token).then(function (data) {\n      if (data.error) {\n        setValues(_objectSpread({}, values, {\n          error: data.error\n        }));\n      } else {\n        setValues(_objectSpread({}, values, {\n          photo: data.username,\n          about: data.about\n        }));\n      }\n    });\n  };\n\n  useEffect(function () {\n    init();\n  }, []);\n  return __jsx(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, __jsx(Private, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"container-fluid\",\n    id: \"dashboard-hero\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"container pt-5\",\n    style: {},\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    className: \"display-4 pt-5 font-weight-bold text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"\".concat(username), \"'s Dashboard\"))), __jsx(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"container-fluid\",\n    style: {\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, __jsx(ReactImageFallback, {\n    src: \"\".concat(API, \"/user/photo/\").concat(photo),\n    className: \"img img-fluid rounded-circle mb-3\",\n    fallbackImage: \"/static/default.svg\",\n    style: {\n      maxHeight: \"auto\",\n      maxWidth: \"300px\",\n      marginTop: '-7vh'\n    },\n    alt: \"user profile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"container mb-3 mt-3 pb-3 pt-3\",\n    style: {\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, __jsx(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"About myself:\", __jsx(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), about)), __jsx(\"ul\", {\n    className: \"list-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, __jsx(\"li\", {\n    className: \"list-group-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    href: \"/user/crud/blog\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Create Blog\")), __jsx(\"li\", {\n    className: \"list-group-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    href: \"/user/update\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \" Update Profile\"))))), __jsx(ReadBlogs, {\n    username: username,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  })))));\n};\n\nexport default UserIndex;","map":{"version":3,"sources":["/Users/huirenchuah/Desktop/travelblog/frontend/pages/user/index.js"],"names":["Private","Layout","Link","ReadBlogs","isAuth","getCookie","API","useState","useEffect","getProfile","ReactImageFallback","UserIndex","photo","about","error","values","setValues","token","username","init","then","data","textAlign","maxHeight","maxWidth","marginTop"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,OAAP,MAAoB,+BAApB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,SAAP,MAAsB,iCAAtB;AACA,SAASC,MAAT,EAAiBC,SAAjB,QAAkC,oBAAlC;AACA,SAASC,GAAT,QAAoB,cAApB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,UAAT,QAA2B,oBAA3B;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AAAA,kBACMJ,QAAQ,CAAC;AACnCK,IAAAA,KAAK,EAAE,EAD4B;AAEnCC,IAAAA,KAAK,EAAE,EAF4B;AAGnCC,IAAAA,KAAK,EAAE;AAH4B,GAAD,CADd;AAAA,MACfC,MADe;AAAA,MACPC,SADO;;AAAA,MAMdJ,KANc,GAMGG,MANH,CAMdH,KANc;AAAA,MAMPC,KANO,GAMGE,MANH,CAMPF,KANO;AAQtB,MAAMI,KAAK,GAAGZ,SAAS,CAAC,OAAD,CAAvB;AACA,MAAMa,QAAQ,GAAGd,MAAM,MAAMA,MAAM,GAAGc,QAAtC;;AAEA,MAAMC,IAAI,GAAG,SAAPA,IAAO,GAAM;AACjBV,IAAAA,UAAU,CAACQ,KAAD,CAAV,CAAkBG,IAAlB,CAAuB,UAAAC,IAAI,EAAI;AAC7B,UAAIA,IAAI,CAACP,KAAT,EAAgB;AACdE,QAAAA,SAAS,mBAAMD,MAAN;AAAcD,UAAAA,KAAK,EAAEO,IAAI,CAACP;AAA1B,WAAT;AACD,OAFD,MAEO;AACLE,QAAAA,SAAS,mBACJD,MADI;AAEPH,UAAAA,KAAK,EAAES,IAAI,CAACH,QAFL;AAGPL,UAAAA,KAAK,EAAEQ,IAAI,CAACR;AAHL,WAAT;AAKD;AACF,KAVD;AAWD,GAZD;;AAcAL,EAAAA,SAAS,CAAC,YAAM;AACdW,IAAAA,IAAI;AACL,GAFQ,EAEN,EAFM,CAAT;AAIA,SACE,MAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAiC,IAAA,EAAE,EAAC,gBAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAgC,IAAA,KAAK,EAAE,EAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,6CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACMD,QADN,kBADF,CADF,CADF,EAQE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAiC,IAAA,KAAK,EAAE;AAAEI,MAAAA,SAAS,EAAE;AAAb,KAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,kBAAD;AACE,IAAA,GAAG,YAAKhB,GAAL,yBAAuBM,KAAvB,CADL;AAEE,IAAA,SAAS,EAAC,mCAFZ;AAGE,IAAA,aAAa,EAAC,qBAHhB;AAIE,IAAA,KAAK,EAAE;AAAEW,MAAAA,SAAS,EAAE,MAAb;AAAqBC,MAAAA,QAAQ,EAAE,OAA/B;AAAwCC,MAAAA,SAAS,EAAC;AAAlD,KAJT;AAKE,IAAA,GAAG,EAAC,cALN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAQE;AACE,IAAA,SAAS,EAAC,+BADZ;AAEE,IAAA,KAAK,EAAE;AAAEH,MAAAA,SAAS,EAAE;AAAb,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGGT,KAHH,CAJF,CARF,EAkBE;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,IAAI,EAAC,iBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,CADF,EAWE;AAAI,IAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,IAAI,EAAC,cAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,CAXF,CAlBF,CADF,CADF,EAqCE,MAAC,SAAD;AAAW,IAAA,QAAQ,EAAEK,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArCF,CARF,CADF,CADF,CADF;AAsDD,CAnFD;;AAqFA,eAAeP,SAAf","sourcesContent":["import Private from \"../../components/auth/Private\";\nimport Layout from \"../../components/Layout\";\nimport Link from \"next/link\";\nimport ReadBlogs from \"../../components/crud/ReadBlogs\";\nimport { isAuth, getCookie } from \"../../actions/auth\";\nimport { API } from \"../../config\";\nimport { useState, useEffect } from \"react\";\nimport { getProfile } from \"../../actions/user\";\nimport ReactImageFallback from \"react-image-fallback\";\n\nconst UserIndex = () => {\n  const [values, setValues] = useState({\n    photo: \"\",\n    about: \"\",\n    error: false\n  });\n  const { photo, about } = values;\n\n  const token = getCookie(\"token\");\n  const username = isAuth() && isAuth().username;\n\n  const init = () => {\n    getProfile(token).then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        setValues({\n          ...values,\n          photo: data.username,\n          about: data.about\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  return (\n    <React.Fragment>\n      <Layout>\n        <Private>\n          <div className=\"container-fluid\" id=\"dashboard-hero\">\n            <div className=\"container pt-5\" style={{}}>\n              <h1 className=\"display-4 pt-5 font-weight-bold text-center\">\n                {`${username}`}'s Dashboard\n              </h1>\n            </div>\n          </div>\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"container-fluid\" style={{ textAlign: \"center\" }}>\n                <ReactImageFallback\n                  src={`${API}/user/photo/${photo}`}\n                  className=\"img img-fluid rounded-circle mb-3\"\n                  fallbackImage=\"/static/default.svg\"\n                  style={{ maxHeight: \"auto\", maxWidth: \"300px\", marginTop:'-7vh' }}\n                  alt=\"user profile\"\n                />\n                <div\n                  className=\"container mb-3 mt-3 pb-3 pt-3\"\n                  style={{ textAlign: \"center\" }}\n                >\n                  <h3>\n                    About myself:\n                    <br />\n                    {about}\n                  </h3>\n                </div>\n                <ul className=\"list-group\">\n                  <li className=\"list-group-item\">\n                    <a href=\"/user/crud/blog\">Create Blog</a>\n                  </li>\n                  {/* \n                <li className=\"list-group-item\">\n                  <Link href=\"/user/crud/blogs\">\n                    <a>My Blogs</a>\n                  </Link>\n                </li> */}\n\n                  <li className=\"list-group-item\">\n                    <a href=\"/user/update\"> Update Profile</a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n            <ReadBlogs username={username} />\n          </div>\n        </Private>\n      </Layout>\n    </React.Fragment>\n  );\n};\n\nexport default UserIndex;\n"]},"metadata":{},"sourceType":"module"}