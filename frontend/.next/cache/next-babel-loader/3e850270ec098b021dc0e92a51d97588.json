{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/huirenchuah/Desktop/travelblog/frontend/pages/user/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Private from \"../../components/auth/Private\";\nimport Layout from \"../../components/Layout\";\nimport Link from \"next/link\";\nimport ReadBlogs from \"../../components/crud/ReadBlogs\";\nimport { isAuth, getCookie } from \"../../actions/auth\";\nimport { API } from \"../../config\";\nimport { useState, useEffect } from \"react\";\nimport { getProfile } from \"../../actions/user\";\nimport ReactImageFallback from \"react-image-fallback\";\n\nconst UserIndex = () => {\n  const {\n    0: values,\n    1: setValues\n  } = useState({\n    photo: \"\",\n    about: \"\",\n    error: false\n  });\n  const {\n    photo,\n    about\n  } = values;\n  const token = getCookie(\"token\");\n  const username = isAuth() && isAuth().username;\n\n  const init = () => {\n    getProfile(token).then(data => {\n      if (data.error) {\n        setValues(_objectSpread({}, values, {\n          error: data.error\n        }));\n      } else {\n        setValues(_objectSpread({}, values, {\n          photo: data.username,\n          about: data.about\n        }));\n      }\n    });\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n  return __jsx(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, __jsx(Private, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"container-fluid\",\n    id: \"blog-hero\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"container pt-5\",\n    style: {},\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    className: \"display-4 pt-5 font-weight-bold text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Travel Blog\"))), __jsx(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"col-md-12 pt-5 pb-5\",\n    style: {\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, __jsx(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Welcome back to \", `${username}`, \"'s Dashboard\")), __jsx(\"div\", {\n    className: \"container-fluid\",\n    style: {\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, __jsx(ReactImageFallback, {\n    src: `${API}/user/photo/${photo}`,\n    className: \"img img-fluid rounded-circle mb-3\",\n    fallbackImage: \"/static/default.svg\",\n    style: {\n      maxHeight: \"auto\",\n      maxWidth: \"300px\"\n    },\n    alt: \"user profile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"container mb-3 mt-3 pb-3 pt-3\",\n    style: {\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, __jsx(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"About myself:\", __jsx(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), about)), __jsx(\"ul\", {\n    className: \"list-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, __jsx(\"li\", {\n    className: \"list-group-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    href: \"/user/crud/blog\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Create Blog\")), __jsx(\"li\", {\n    className: \"list-group-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    href: \"/user/update\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \" Update Profile\"))))), __jsx(ReadBlogs, {\n    username: username,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  })))));\n};\n\nexport default UserIndex;","map":{"version":3,"sources":["/Users/huirenchuah/Desktop/travelblog/frontend/pages/user/index.js"],"names":["Private","Layout","Link","ReadBlogs","isAuth","getCookie","API","useState","useEffect","getProfile","ReactImageFallback","UserIndex","values","setValues","photo","about","error","token","username","init","then","data","textAlign","maxHeight","maxWidth"],"mappings":"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","sourcesContent":["import Private from \"../../components/auth/Private\";\nimport Layout from \"../../components/Layout\";\nimport Link from \"next/link\";\nimport ReadBlogs from \"../../components/crud/ReadBlogs\";\nimport { isAuth, getCookie } from \"../../actions/auth\";\nimport { API } from \"../../config\";\nimport { useState, useEffect } from \"react\";\nimport { getProfile } from \"../../actions/user\";\nimport ReactImageFallback from \"react-image-fallback\";\n\nconst UserIndex = () => {\n  const [values, setValues] = useState({\n    photo: \"\",\n    about: \"\",\n    error: false\n  });\n  const { photo, about } = values;\n\n  const token = getCookie(\"token\");\n  const username = isAuth() && isAuth().username;\n\n  const init = () => {\n    getProfile(token).then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        setValues({\n          ...values,\n          photo: data.username,\n          about: data.about\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  return (\n    <React.Fragment>\n      <Layout>\n        <Private>\n        <div className=\"container-fluid\" id=\"blog-hero\">\n            <div className=\"container pt-5\" style={{}}>\n              <h1 className=\"display-4 pt-5 font-weight-bold text-center\">\n                Travel Blog\n              </h1>\n            </div>\n          </div>\n          <div className=\"container\">\n            <div className=\"row\">\n              <div\n                className=\"col-md-12 pt-5 pb-5\"\n                style={{ textAlign: \"center\" }}\n              >\n                <h2>Welcome back to {`${username}`}'s Dashboard</h2>\n              </div>\n\n              <div className=\"container-fluid\" style={{ textAlign: \"center\" }}>\n                <ReactImageFallback\n                  src={`${API}/user/photo/${photo}`}\n                  className=\"img img-fluid rounded-circle mb-3\"\n                  fallbackImage=\"/static/default.svg\"\n                  style={{ maxHeight: \"auto\", maxWidth: \"300px\" }}\n                  alt=\"user profile\"\n                />\n                <div\n                  className=\"container mb-3 mt-3 pb-3 pt-3\"\n                  style={{ textAlign: \"center\" }}\n                >\n                  <h3>\n                    About myself:\n                    <br />\n                    {about}\n                  </h3>\n                </div>\n                <ul className=\"list-group\">\n                  <li className=\"list-group-item\">\n                    <a href=\"/user/crud/blog\">Create Blog</a>\n                  </li>\n                  {/* \n                <li className=\"list-group-item\">\n                  <Link href=\"/user/crud/blogs\">\n                    <a>My Blogs</a>\n                  </Link>\n                </li> */}\n\n                  <li className=\"list-group-item\">\n                    <a href=\"/user/update\"> Update Profile</a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n            <ReadBlogs username={username} />\n          </div>\n        </Private>\n      </Layout>\n    </React.Fragment>\n  );\n};\n\nexport default UserIndex;\n"]},"metadata":{},"sourceType":"module"}