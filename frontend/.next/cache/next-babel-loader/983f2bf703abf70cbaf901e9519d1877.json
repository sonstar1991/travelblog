{"ast":null,"code":"var _jsxFileName = \"/Users/huirenchuah/Desktop/travelblog/frontend/components/crud/ReadBlogs.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from \"next/link\";\nimport { useState, useEffect } from \"react\";\nimport Router from \"next/router\";\nimport { getCookie, isAuth } from \"../../actions/auth\";\nimport { list, removeBlog } from \"../../actions/blog\";\nimport moment from \"moment\";\n\nvar ReadBlogs = function ReadBlogs() {\n  var _useState = useState([]),\n      blogs = _useState[0],\n      setBlogs = _useState[1];\n\n  var _useState2 = useState(''),\n      message = _useState2[0],\n      setMessage = _useState2[1];\n\n  var token = getCookie('token');\n  useEffect(function () {\n    loadBlogs();\n  }, []);\n\n  var loadBlogs = function loadBlogs() {\n    list().then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setBlogs(data);\n      }\n    });\n  };\n\n  var showAllBlogs = function showAllBlogs() {\n    return blogs.map(function (blog, i) {\n      return __jsx(\"div\", {\n        key: i,\n        className: \"mt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, __jsx(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, blog.title), __jsx(\"p\", {\n        className: \"mark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, \"Written by \", blog.postedBy.name, \" | Published on \", moment(blog.updatedAt).fromNow()));\n    });\n  };\n\n  return __jsx(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"update and delete blog\"));\n};\n\nexport default ReadBlogs;","map":{"version":3,"sources":["/Users/huirenchuah/Desktop/travelblog/frontend/components/crud/ReadBlogs.js"],"names":["Link","useState","useEffect","Router","getCookie","isAuth","list","removeBlog","moment","ReadBlogs","blogs","setBlogs","message","setMessage","token","loadBlogs","then","data","error","console","log","showAllBlogs","map","blog","i","title","postedBy","name","updatedAt","fromNow"],"mappings":";;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,SAASC,SAAT,EAAoBC,MAApB,QAAkC,oBAAlC;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,oBAAjC;AACA,OAAOC,MAAP,MAAmB,QAAnB;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AAAA,kBAEMR,QAAQ,CAAC,EAAD,CAFd;AAAA,MAEbS,KAFa;AAAA,MAENC,QAFM;;AAAA,mBAGUV,QAAQ,CAAC,EAAD,CAHlB;AAAA,MAGbW,OAHa;AAAA,MAGJC,UAHI;;AAInB,MAAMC,KAAK,GAAGV,SAAS,CAAC,OAAD,CAAvB;AAEAF,EAAAA,SAAS,CAAC,YAAI;AACVa,IAAAA,SAAS;AACZ,GAFQ,EAEP,EAFO,CAAT;;AAIA,MAAMA,SAAS,GAAC,SAAVA,SAAU,GAAI;AAChBT,IAAAA,IAAI,GAAGU,IAAP,CAAY,UAAAC,IAAI,EAAE;AACd,UAAGA,IAAI,CAACC,KAAR,EAAc;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,KAAjB;AACH,OAFD,MAEK;AACDP,QAAAA,QAAQ,CAACM,IAAD,CAAR;AACH;AACJ,KAND;AAOH,GARD;;AAWA,MAAMI,YAAY,GAAC,SAAbA,YAAa,GAAI;AACnB,WAAOX,KAAK,CAACY,GAAN,CAAU,UAACC,IAAD,EAAOC,CAAP,EAAW;AACxB,aACI;AAAK,QAAA,GAAG,EAAEA,CAAV;AAAa,QAAA,SAAS,EAAC,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKD,IAAI,CAACE,KAAV,CADQ,EAER;AAAG,QAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAgCF,IAAI,CAACG,QAAL,CAAcC,IAA9C,sBAAoEnB,MAAM,CAACe,IAAI,CAACK,SAAN,CAAN,CAAuBC,OAAvB,EAApE,CAFQ,CADJ;AAMH,KAPM,CAAP;AAQH,GATD;;AAcH,SACE,MAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,CADF;AAKD,CAxCD;;AA0CA,eAAepB,SAAf","sourcesContent":["import Link from \"next/link\";\nimport { useState, useEffect } from \"react\";\nimport Router from \"next/router\";\nimport { getCookie, isAuth } from \"../../actions/auth\";\nimport { list, removeBlog } from \"../../actions/blog\";\nimport moment from \"moment\";\n\nconst ReadBlogs = () => {\n\n    const [blogs, setBlogs] = useState([])\n    const [message, setMessage] = useState('')\n     const token = getCookie('token')\n\n     useEffect(()=>{\n         loadBlogs()\n     },[])\n\n     const loadBlogs=()=>{\n         list().then(data=>{\n             if(data.error){\n                 console.log(data.error)\n             }else{\n                 setBlogs(data)\n             }\n         })\n     }\n\n\n     const showAllBlogs=()=>{\n         return blogs.map((blog, i)=>{\n             return(\n                 <div key={i} className=\"mt-5\">\n         <h3>{blog.title}</h3>\n         <p className=\"mark\">Written by {blog.postedBy.name} | Published on {moment(blog.updatedAt).fromNow()}</p>\n                 </div>\n             )\n         })\n     }\n\n\n\n\n  return (\n    <React.Fragment>\n      <p>update and delete blog</p>\n    </React.Fragment>\n  );\n};\n\nexport default ReadBlogs;\n"]},"metadata":{},"sourceType":"module"}